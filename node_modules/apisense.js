/**
 * APISENSE request helper
 */
var request = require('request'); //Node.js va chercher sur notre disque un fichier appel request.jsd

const API_URL = 'https://honeycomb.apisense.io/api/v1/crop/38BjnaBjW0i9AP4w0KRg/data';
//const API_URL = 'http://xperium.lille.inria.fr/xperium/Xperium/query/mprocess/file';
var query = function(filename, params, callback) {
	request.post(
		API_URL,
	    {
			form: {
				filename: filename,
				params: new Buffer(JSON.stringify( params )).toString('base64')
			}
	    },
	    callback
	);
};

module.exports.query = query;// pour qu'il soit utilisable de l'exterieur et on peut le faire direc†ement dés 
// le début par  exports.query = function(......) ==> module.export..= exports // definit dans le prototypage de request

